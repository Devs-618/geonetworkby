<!DOCTYPE html>
<html class="writer-html5" lang="ru-RU" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Разделите свой код &mdash; GeoNetwork opensource v3.12 GeoNetwork Documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Алфавитный указатель" href="../../../genindex.html" />
    <link rel="search" title="Поиск" href="../../../search.html" />
    <link rel="next" title="Использование событий" href="../events/index.html" />
    <link rel="prev" title="Подцепите свой собственный код" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> GeoNetwork opensource
          </a>
              <div class="version">
                3.12
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../overview/index.html">Обзор</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install-guide/index.html">Installation guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user-guide/index.html">Гид пользователя</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../administrator-guide/index.html">Руководство администратора</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer-guide/index.html">Руководство сопровождающего</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">Руководство по API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/index.html">Руководство по содействию</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../customizing-application/index.html">Руководство по настройке</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Учебники</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction/index.html">Введение в геосеть</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../customui/index.html">Настройте свой пользовательский интерфейс GeoNetwork</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Подцепите свой собственный код</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Разделите свой код</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-your-own-project">Создайте свой собственный проект</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-your-project">Добавьте свой проект</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../events/index.html">Использование событий</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ui/index.html">Добавление нового пользовательского интерфейса</a></li>
<li class="toctree-l3"><a class="reference internal" href="../schemaplugins/index.html">Плагины схемы</a></li>
<li class="toctree-l3"><a class="reference internal" href="../searchfields/index.html">Поля поиска</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../inspire/index.html">Учебники</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../annexes/index.html">Приложения</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">GeoNetwork opensource</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Учебники</a> &raquo;</li>
          <li><a href="../index.html">Подцепите свой собственный код</a> &raquo;</li>
      <li>Разделите свой код</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/geonetwork/doc/blob/develop/source/tutorials/hookcustomizations/newproject/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="separate-your-code">
<span id="tuto-hookcustomizations-newproject"></span><h1>Разделите свой код<a class="headerlink" href="#separate-your-code" title="Permalink to this heading">¶</a></h1>
<p>GeoNetwork is built using Maven. This means, there are several folders inside the source code and each of them is a different Maven project that can be built separately.</p>
<img alt="../../../_images/listprojects.png" src="../../../_images/listprojects.png" />
<section id="create-your-own-project">
<h2>Создайте свой собственный проект<a class="headerlink" href="#create-your-own-project" title="Permalink to this heading">¶</a></h2>
<p>Лучший способ работать с GeoNetwork и легко обновлять его позже — это добавить свой собственный проект (проекты) Maven в стек сборки Maven, чтобы код GeoNetwork оставался неизменным, а ваши изменения не были связаны.</p>
<p>Для этого перейдите в корневую папку исходного кода и создайте новую папку. Это можно сделать на терминале GNU/Linux с помощью следующей команды:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">core</span><span class="o">-</span><span class="n">geonetwork</span>
<span class="n">mkdir</span> <span class="n">custom</span>
</pre></div>
</div>
</div></blockquote>
<p>Затем мы должны сказать Maven, что это новый проект, который можно построить. Поэтому мы добавляем новый файл с именем pom.xml в эту «пользовательскую» папку и добавляем следующее:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;project</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0&quot;</span>
<span class="w">  </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="w">  </span><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;</span><span class="nt">&gt;</span>

<span class="w">  </span><span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>

<span class="w">  </span><span class="nt">&lt;parent&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.geonetwork-opensource<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>geonetwork<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>3.1.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;/parent&gt;</span>

<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>org.geonetwork-opensource<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>custom<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">  </span><span class="nt">&lt;packaging&gt;</span>jar<span class="nt">&lt;/packaging&gt;</span>
<span class="w">  </span><span class="nt">&lt;name&gt;</span>Hook<span class="w"> </span>your<span class="w"> </span>customizations<span class="w"> </span>tutorial<span class="nt">&lt;/name&gt;</span>
<span class="w">  </span><span class="nt">&lt;description/&gt;</span>

<span class="w">  </span><span class="nt">&lt;licenses&gt;</span>
<span class="w">    </span><span class="nt">&lt;license&gt;</span>
<span class="w">      </span><span class="nt">&lt;name&gt;</span>General<span class="w"> </span>Public<span class="w"> </span>License<span class="w"> </span>(GPL)<span class="nt">&lt;/name&gt;</span>
<span class="w">      </span><span class="nt">&lt;url&gt;</span>http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt<span class="nt">&lt;/url&gt;</span>
<span class="w">      </span><span class="nt">&lt;distribution&gt;</span>repo<span class="nt">&lt;/distribution&gt;</span>
<span class="w">    </span><span class="nt">&lt;/license&gt;</span>
<span class="w">  </span><span class="nt">&lt;/licenses&gt;</span>

<span class="w">  </span><span class="nt">&lt;properties&gt;</span>
<span class="w">    </span><span class="nt">&lt;geonetwork.build.dir&gt;</span>${project.build.directory}/${project.build.finalName}<span class="nt">&lt;/geonetwork.build.dir&gt;</span>
<span class="w">    </span><span class="nt">&lt;closure.compile.level/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/properties&gt;</span>
<span class="w">    </span><span class="nt">&lt;profiles&gt;</span>
<span class="w">        </span><span class="nt">&lt;profile&gt;</span>
<span class="w">            </span><span class="nt">&lt;id&gt;</span>tests-and-static-analysis<span class="nt">&lt;/id&gt;</span>
<span class="w">            </span><span class="nt">&lt;activation&gt;</span>
<span class="w">                </span><span class="nt">&lt;property&gt;&lt;name&gt;</span>!skipTests<span class="nt">&lt;/name&gt;&lt;/property&gt;</span>
<span class="w">            </span><span class="nt">&lt;/activation&gt;</span>
<span class="w">        </span><span class="nt">&lt;/profile&gt;</span>
<span class="w">    </span><span class="nt">&lt;/profiles&gt;</span>
<span class="nt">&lt;/project&gt;</span>
</pre></div>
</div>
</section>
<section id="add-your-project">
<h2>Добавьте свой проект<a class="headerlink" href="#add-your-project" title="Permalink to this heading">¶</a></h2>
<p>Then you should add it to the list of projects Maven will automatically build. On the root folder of the source code, edit the file pom.xml and add your own project:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;modules&gt;</span>
<span class="w">  </span><span class="nt">&lt;module&gt;</span>schemas-test<span class="nt">&lt;/module&gt;</span>
<span class="w">  </span><span class="nt">&lt;module&gt;</span>web-ui<span class="nt">&lt;/module&gt;</span>
<span class="w">  </span><span class="nt">&lt;module&gt;</span>custom<span class="nt">&lt;/module&gt;</span>
<span class="w">  </span><span class="nt">&lt;module&gt;</span>web-ui-docs<span class="nt">&lt;/module&gt;</span>
<span class="w">  </span><span class="nt">&lt;module&gt;</span>web-client<span class="nt">&lt;/module&gt;</span>
<span class="w">  </span><span class="nt">&lt;module&gt;</span>web<span class="nt">&lt;/module&gt;</span>
<span class="nt">&lt;/modules&gt;</span>
</pre></div>
</div>
<p>Идея состоит в том, что мы не только собираем проект, но и добавляем его в генерируемый war-файл. Для этого редактируем файл web/pom.xml и добавляем наш проект в качестве новой зависимости внутри тега dependencies:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>${project.groupId}<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>custom<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>${project.version}<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
<p>И в том же файле мы также должны добавить нашу папку ресурсов в сборку (если мы собираемся изменить пользовательский интерфейс, что мы и сделаем в этом руководстве):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;resource&gt;</span>
<span class="w">  </span><span class="nt">&lt;directory&gt;</span>${project.basedir}/../custom/src/main/resources<span class="nt">&lt;/directory&gt;</span>
<span class="nt">&lt;/resource&gt;</span>
</pre></div>
</div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;resourcesAsCSV&gt;</span>
${project.basedir}/src/main/webapp,
${rootProjectDir}/web-ui/src/main/resources/,
${rootProjectDir}/custom/src/main/resources/,
${build.webapp.resources}
<span class="nt">&lt;/resourcesAsCSV&gt;</span>
</pre></div>
</div>
<p>Теперь, если мы построим GeoNetwork, он также построит и добавит наш проект.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="Подцепите свой собственный код" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../events/index.html" class="btn btn-neutral float-right" title="Использование событий" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2001-2023, GeoNetwork opensource. Licensed under Creative Commons Attribution ShareAlike (Unported) v3.0 License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>