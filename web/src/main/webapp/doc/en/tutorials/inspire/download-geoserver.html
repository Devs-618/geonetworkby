<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorial setting up a WFS based INSPIRE download service with GeoServer &mdash; GeoNetwork opensource v3.12 GeoNetwork Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Annexes" href="../../annexes/index.html" />
    <link rel="prev" title="Tutorial setting up an Atom/OpenSearch based INSPIRE download service" href="download-atom.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> GeoNetwork opensource
          </a>
              <div class="version">
                3.12
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install-guide/index.html">Installation guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-guide/index.html">User guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administrator-guide/index.html">Administrator guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer-guide/index.html">Maintainer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../customizing-application/index.html">Customizing guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction/index.html">Introduction to GeoNetwork</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customui/index.html">Customize your GeoNetwork UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hookcustomizations/index.html">Hook your own code</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Tutorials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="view-geoserver.html">Tutorial setting up INSPIRE view service with GeoNetwork and GeoServer</a></li>
<li class="toctree-l3"><a class="reference internal" href="view-mapserver.html">Tutorial setting up INSPIRE view service with GeoNetwork and Mapserver</a></li>
<li class="toctree-l3"><a class="reference internal" href="download-atom.html">Tutorial setting up an Atom/OpenSearch based INSPIRE download service</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Tutorial setting up a WFS based INSPIRE download service with GeoServer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#geoserver">GeoServer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geonetwork">GeoNetwork</a></li>
<li class="toctree-l4"><a class="reference internal" href="#return-to-geoserver">Return to GeoServer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#validate-the-implementation">Validate the implementation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../annexes/index.html">Annexes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoNetwork opensource</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Tutorials</a> &raquo;</li>
          <li><a href="index.html">Tutorials</a> &raquo;</li>
      <li>Tutorial setting up a WFS based INSPIRE download service with GeoServer</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/geonetwork/doc/blob/develop/source/tutorials/inspire/download-geoserver.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tutorial-setting-up-a-wfs-based-inspire-download-service-with-geoserver">
<span id="tuto-download-geoserver"></span><h1>Tutorial setting up a WFS based INSPIRE download service with GeoServer<a class="headerlink" href="#tutorial-setting-up-a-wfs-based-inspire-download-service-with-geoserver" title="Permalink to this heading">¶</a></h1>
<p>This tutorial shows how one can set up a combination of GeoNetwork and GeoServer to provide download services following <a class="reference external" href="http://inspire.ec.europa.eu/documents/technical-guidance-implementation-inspire-download-services">technical guidelines for download services</a>.</p>
<p>Note that the technical guidelines allow both Atom/OpenSearch as well as <a class="reference external" href="http://www.opengeospatial.org/standards/wfs">WFS</a>. This tutorial describes how to set up a download service using WFS.</p>
<section id="geoserver">
<h2>GeoServer<a class="headerlink" href="#geoserver" title="Permalink to this heading">¶</a></h2>
<p>To support the INSPIRE data models the geoserver <a class="reference external" href="http://docs.geoserver.org/stable/en/user/data/app-schema/">“appschema” plugin</a> needs to be installed. Configuring appschema support in GeoServer is not the goal of this tutorial. Appschema support for INSPIRE is nicely documented by <a class="reference external" href="https://data.gov.uk/sites/default/files/library/INSPIREWFSCookbook_v1.0.pdf">Marcus Sen</a>. Another valuable resource is available at <a class="reference external" href="http://www.geo-solutions.it/blog/inspire-support-in-geoserver-made-easy-with-hale/">geosolutions</a>. In this tutorial we’ll focus on metadata aspects of a WFS download service.</p>
<p>Download and install GeoServer INSPIRE extension as documented in <a class="reference external" href="http://docs.geoserver.org/latest/en/user/extensions/inspire/installing.html">installing inspire extension</a></p>
<p>Create at least one workspace per data model. On workspace properties activate “Settings” and set the selected service type (WFS).</p>
<img alt="../../_images/image_0.png" src="../../_images/image_0.png" />
<p>On WFS settings, select the new workspace and fill out the form (keep service metadata url empty for now) as described in <a class="reference external" href="http://docs.geoserver.org/latest/en/user/extensions/inspire/using.html#inspire-using">using inspire extension</a>. If the new workspace is not in the pull down, return to previous step and make sure “Settings” is activated for the workspace. If the INSPIRE fields are not visible, make sure the INSPIRE extension is correctly installed.</p>
<img alt="../../_images/image_8.png" src="../../_images/image_8.png" />
<p>Create featuretypes according to the appschema documentation.</p>
</section>
<section id="geonetwork">
<h2>GeoNetwork<a class="headerlink" href="#geonetwork" title="Permalink to this heading">¶</a></h2>
<p>When deploying GeoNetwork, make sure the GEMET thesauri are loaded and activate the INSPIRE editor as described in <a class="reference external" href="http://geonetwork-opensource.org/manuals/trunk/eng/users/administrator-guide/configuring-the-catalog/inspire-configuration.html">inspire documentation</a>.</p>
<p>In Admin &gt; Settings activate the INSPIRE extension.</p>
<img alt="../../_images/image_3.png" src="../../_images/image_3.png" />
<p>For each dataset that you are going to publish create an iso19115 record using the INSPIRE template. Link each record to a download service as created in geoserver: eg <a class="reference external" href="https:/">https:/</a>/{url}/geoserver/{workspace}/ows?request=getcapabilities&amp;service=wfs&amp;version=2.0.0</p>
<img alt="../../_images/image_9.png" src="../../_images/image_9.png" />
<p>Create an OGC harvester that is able to extract a metadata for service (iso19119) record from the WFS. Run the harvester and note down the identifier of the created service metadata.</p>
</section>
<section id="return-to-geoserver">
<h2>Return to GeoServer<a class="headerlink" href="#return-to-geoserver" title="Permalink to this heading">¶</a></h2>
<p>For each layer add a metadata url to the layer configuration of type application/vnd.ogc.csw.GetRecordByIdResponse_xml.</p>
<p>On the WFS-settings &gt; INSPIRE workspace add the link to the service metadata. In contradiction to WMS does WFS not link from a featuretype (layer) to metadata, in stead the links to dataset metadata have to be added as part of the extende INSPIRE capabilities.</p>
</section>
<section id="validate-the-implementation">
<h2>Validate the implementation<a class="headerlink" href="#validate-the-implementation" title="Permalink to this heading">¶</a></h2>
<p>If you are running the above setup online, you can use the <a class="reference external" href="http://inspire-geoportal.ec.europa.eu/validator2/">pilot JRC INSPIRE validator</a>. If the above setup is running locally, you can use <a class="reference external" href="https://github.com/Geonovum/etf-test-projects-inspire">Esdin Test Framework</a> to validate the INSPIRE setup.</p>
<img alt="../../_images/image_6.png" src="../../_images/image_6.png" />
<p>Running the test frequently during development helps to identify issues in an early stage.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="download-atom.html" class="btn btn-neutral float-left" title="Tutorial setting up an Atom/OpenSearch based INSPIRE download service" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../annexes/index.html" class="btn btn-neutral float-right" title="Annexes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2001-2023, GeoNetwork opensource. Licensed under Creative Commons Attribution ShareAlike (Unported) v3.0 License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>