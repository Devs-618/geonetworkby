<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Life cycle &mdash; GeoNetwork opensource v3.12 GeoNetwork Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Publishing GIS data in a map server" href="geopublication.html" />
    <link rel="prev" title="Suggestions for improving metadata content" href="suggestion.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> GeoNetwork opensource
          </a>
              <div class="version">
                3.12
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install-guide/index.html">Installation guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../quick-start/index.html">Quick start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../map/index.html">Maps and dataset visualisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../describing-information/index.html">Describing information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../associating-resources/index.html">Associating resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tag-information/index.html">Classify information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../publishing/index.html">Publishing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/index.html">Analyzing data</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Workflow</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="validation.html">Validating records</a></li>
<li class="toctree-l3"><a class="reference internal" href="suggestion.html">Suggestions for improving metadata content</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Life cycle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#record-life-cycle">Record life cycle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#workflow">Workflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submitting-a-record">Submitting a record</a></li>
<li class="toctree-l4"><a class="reference internal" href="#status-actions">Status actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-the-status-actions">Changing the status actions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="geopublication.html">Publishing GIS data in a map server</a></li>
<li class="toctree-l3"><a class="reference internal" href="versioning.html">Versioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="batchupdate.html">Updating a set of records</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../harvesting/index.html">Harvesting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../export/index.html">Exporting records</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../administrator-guide/index.html">Administrator guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer-guide/index.html">Maintainer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../customizing-application/index.html">Customizing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../annexes/index.html">Annexes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeoNetwork opensource</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">User guide</a> &raquo;</li>
          <li><a href="index.html">Workflow</a> &raquo;</li>
      <li>Life cycle</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/geonetwork/doc/blob/develop/source/user-guide/workflow/life-cycle.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="life-cycle">
<span id="id1"></span><h1>Life cycle<a class="headerlink" href="#life-cycle" title="Permalink to this heading">¶</a></h1>
<section id="record-life-cycle">
<h2>Record life cycle<a class="headerlink" href="#record-life-cycle" title="Permalink to this heading">¶</a></h2>
<p>Metadata records have a lifecycle that typically goes through one or more states.
For example, when a record is:</p>
<ul class="simple">
<li><p>created and edited by an <code class="docutils literal notranslate"><span class="pre">Editor</span></code> it is in the <code class="docutils literal notranslate"><span class="pre">Draft</span></code> state.</p></li>
<li><p>being reviewed by a <code class="docutils literal notranslate"><span class="pre">Content</span> <span class="pre">Reviewer</span></code>, or a review is requested brings the record to <code class="docutils literal notranslate"><span class="pre">Submitted</span></code> state.</p></li>
<li><p>completed and corrected by the <code class="docutils literal notranslate"><span class="pre">Content</span> <span class="pre">Reviewer</span></code> it is in the <code class="docutils literal notranslate"><span class="pre">Approved</span></code> state.</p></li>
<li><p>superseded or replaced the state is <code class="docutils literal notranslate"><span class="pre">Retired</span></code>.</p></li>
</ul>
<p>The catalog has (an extensible) set of states that a metadata record can have:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Unknown</span></code> - this is the default state - nothing is known about the status of the metadata record.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Draft</span></code> - the record is under construction or being edited.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Submitted</span></code> - the record has been submitted for approval to a content reviewer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Approved</span></code> - the content reviewer has reviewed and approved the metadata record.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Rejected</span></code> - the content reviewer has reviewed and rejected the metadata record.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Retired</span></code> - the record has been retired.</p></li>
</ul>
</section>
<section id="workflow">
<h2>Workflow<a class="headerlink" href="#workflow" title="Permalink to this heading">¶</a></h2>
<p>Workflow can be enabled for the full catalogue, certain groups or on an individual record level.</p>
<p>For an individual record, to enable workflow and change the status from <code class="docutils literal notranslate"><span class="pre">Unknown</span></code> to <code class="docutils literal notranslate"><span class="pre">Draft</span></code>, click the <code class="docutils literal notranslate"><span class="pre">enable</span> <span class="pre">workflow</span></code> button
in the metadata view:</p>
<figure class="align-default">
<img alt="../../_images/workflow-enable.png" src="../../_images/workflow-enable.png" />
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To use the workflow for metadata records created before enabling it in <code class="docutils literal notranslate"><span class="pre">Admin</span> <span class="pre">console</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Settings</span></code>, you must use the above option.</p>
</div>
<p>To enable workflow for the full catalogue or certain groups, check <code class="docutils literal notranslate"><span class="pre">Admin</span> <span class="pre">console</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Settings</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Metadata</span> <span class="pre">Workflow</span></code>.</p>
<p>In workflow mode, when approved records are modified, you’re working on a copy of the approved record. Changes on the record will not be visible to users outside your group until the modified record is approved again. Records in this state will be marked as “Working Copy”, and their status will be “Approved with working copy”.</p>
<figure class="align-default">
<img alt="../../_images/working-copy.png" src="../../_images/working-copy.png" />
</figure>
<p>When accessing a record with a working copy, it is possible to switch between the two versions:</p>
<figure class="align-default">
<img alt="../../_images/working-copy-switch.png" src="../../_images/working-copy-switch.png" />
</figure>
<p>Similarly if viewing the working copy of a record it is possible to switch to it’s approved version:</p>
<figure class="align-default">
<img alt="../../_images/working-copy-switch-approve.png" src="../../_images/working-copy-switch-approve.png" />
</figure>
<p>To replace an approved record with its working copy, submit it for review as below. Once approved, the working copy version will replace the approved version, and the status will change to “Approved”.</p>
</section>
<section id="submitting-a-record">
<h2>Submitting a record<a class="headerlink" href="#submitting-a-record" title="Permalink to this heading">¶</a></h2>
<p>When done editing you can submit a record for review by a content reviewer. The submit button is available on the <cite>manage record</cite> menu in the metadata view.
A popup will open in which you can leave a message for the content reviewer.</p>
<figure class="align-default">
<img alt="../../_images/submit-for-review.png" src="../../_images/submit-for-review.png" />
</figure>
<p>A user with role content reviewer is able to submit a record, instantly approve a record (without submission) or approve a record which has been submitted for review.
During the review process a content reviewer may benefit from the version history option, which shows the differences between the different versions of the record.
As part of the approval process, the content reviewer can also set the level of access to the record, an option is to set the access level to public (visible to all).</p>
<figure class="align-default">
<img alt="../../_images/approve-metadata.png" src="../../_images/approve-metadata.png" />
</figure>
<p>Notifications will be sent to editors and content reviewers indicating the status changes on the record involved, so users can easily act when action is required.</p>
</section>
<section id="status-actions">
<h2>Status actions<a class="headerlink" href="#status-actions" title="Permalink to this heading">¶</a></h2>
<p>There are two status change action hooks (in Java) that can be used by sites to
provide specific behaviour:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">statusChange</span></code> - This action is called when status is changed by a user
eg. when <code class="docutils literal notranslate"><span class="pre">Draft</span></code> records are set to <code class="docutils literal notranslate"><span class="pre">Submitted</span></code> and could be used for
example to send notifications to other users affected by this change.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onEdit</span></code> - This action is called when a record is edited and saved and could
be used for example to reset records with an <code class="docutils literal notranslate"><span class="pre">Approved</span></code> status to <code class="docutils literal notranslate"><span class="pre">Draft</span></code> status.</p></li>
</ul>
<p>A default set of actions is provided. These can be customized or replaced by sites
that wish to provide different or more extensive behaviour.</p>
<p>A default pair of metadata status change actions defined in Java is provided with GeoNetwork using
the class org.fao.geonet.services.metadata.DefaultStatusActions.java (see <a class="reference external" href="https://github.com/geonetwork/core-geonetwork/tree/master/core/src/main/java/org/fao/geonet/kernel/metadata/DefaultStatusActions.java">source file core/src/main/java/org/fao/geonet/kernel/metadata/DefaultStatusActions.java</a>).</p>
<section id="when-a-status-changes">
<h3>When a status changes<a class="headerlink" href="#when-a-status-changes" title="Permalink to this heading">¶</a></h3>
<p>This action is called when status is changed by a user. What happens depends
on the status change taking place:</p>
<ul class="simple">
<li><p>when an <code class="docutils literal notranslate"><span class="pre">Editor</span></code> changes the state on a metadata record(s) from <code class="docutils literal notranslate"><span class="pre">Draft</span></code> or <code class="docutils literal notranslate"><span class="pre">Unknown</span></code>
to <code class="docutils literal notranslate"><span class="pre">Submitted</span></code>, the Content Reviewers from the groupOwner of the record are informed
of the status change via email, which looks like the following. They can log in and
click on the link supplied in the email to access the submitted records.
Here is an example email sent by this action:</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Date: Tue, 13 Dec 2011 12:58:58 +1100 (EST)
From: Metadata Workflow &lt;feedback@localgeonetwork.org.au&gt;
Subject: Metadata records SUBMITTED by userone@localgeonetwork.org.au (User One) on 2011-12-13T12:58:58
To: &quot;reviewer@localgeonetwork.org.au&quot; &lt;Reviewer@localgeonetwork.org.au&gt;
Reply-to: User One &lt;userone@localgeonetwork.org.au.au&gt;
Message-id: &lt;1968852534.01323741538713.JavaMail.geonetwork@localgeonetwork.org.au&gt;

These records are complete. Please review.

Records are available from the following URL:
http://localgeonetwork.org.au/geonetwork/srv/en/main.search?_status=4&amp;_statusChangeDate=2011-12-13T12:58:58
</pre></div>
</div>
<ul class="simple">
<li><p>when a <code class="docutils literal notranslate"><span class="pre">Content</span> <span class="pre">Reviewer</span></code> changes the state on a metadata record(s) from <code class="docutils literal notranslate"><span class="pre">Submitted</span></code>
to <code class="docutils literal notranslate"><span class="pre">Accepted</span></code> or <code class="docutils literal notranslate"><span class="pre">Rejected</span></code>, the owner of the metadata record is informed of the
status change via email. The email received by the metadata record owner looks like
the following. Again, the user can log in and use the link supplied in the email to
access the approved/rejected records. Here is an example email sent by this action:</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Date: Wed, 14 Dec 2011 12:28:01 +1100 (EST)
From: Metadata Workflow &lt;feedback@localgeonetwork.org.au&gt;
Subject: Metadata records APPROVED by reviewer@localgeonetwork.org.au (Reviewer) on 2011-12-14T12:28:00
To: &quot;User One&quot; &lt;userone@localgeonetwork.org.au&gt;
Message-ID: &lt;1064170697.31323826081004.JavaMail.geonetwork@localgeonetwork.org.au&gt;
Reply-To: Reviewer &lt;reviewer@localgeonetwork.org.au&gt;

Records approved - please resubmit for approval when online resources attached

Records are available from the following URL:
http://localgeonetwork.org.au/geonetwork/srv/en/main.search?_status=2&amp;_statusChangeDate=2011-12-14T12:28:00
</pre></div>
</div>
</section>
<section id="when-editing">
<h3>When editing<a class="headerlink" href="#when-editing" title="Permalink to this heading">¶</a></h3>
<p>This action is called when a record is edited and saved by a user. If the user did not indicate that the
edit changes were a <code class="docutils literal notranslate"><span class="pre">Minor</span> <span class="pre">edit</span></code> and the current status of the record is <code class="docutils literal notranslate"><span class="pre">Approved</span></code>, then the default
action is to set the status to <code class="docutils literal notranslate"><span class="pre">Draft</span></code>.</p>
</section>
</section>
<section id="changing-the-status-actions">
<h2>Changing the status actions<a class="headerlink" href="#changing-the-status-actions" title="Permalink to this heading">¶</a></h2>
<p>These actions can be replaced with different behaviours by:</p>
<ul class="simple">
<li><p>writing Java code in the form of a new class that implements the interface defined
in <code class="docutils literal notranslate"><span class="pre">org.fao.geonet.services.metadata.StatusActions.java</span></code> and placing a compiled version
of the class in the GeoNetwork class path</p></li>
<li><p>defining the name of the new class in the statusActionsClass configuration
parameter in <code class="docutils literal notranslate"><span class="pre">web/geonetwork/WEB-INF/config.xml</span></code></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="suggestion.html" class="btn btn-neutral float-left" title="Suggestions for improving metadata content" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="geopublication.html" class="btn btn-neutral float-right" title="Publishing GIS data in a map server" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2001-2023, GeoNetwork opensource. Licensed under Creative Commons Attribution ShareAlike (Unported) v3.0 License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>