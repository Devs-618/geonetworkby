<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Adding static pages &mdash; GeoNetwork opensource v3.12 GeoNetwork Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Implementing schema plugins" href="implementing-a-schema-plugin.html" />
    <link rel="prev" title="Advanced configuration" href="advanced-configuration.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> GeoNetwork opensource
          </a>
              <div class="version">
                3.12
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install-guide/index.html">Installation guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">User guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administrator-guide/index.html">Administrator guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer-guide/index.html">Maintainer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Customizing guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="search-ui/index.html">Search application</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating-custom-view.html">Customizing metadata views</a></li>
<li class="toctree-l2"><a class="reference internal" href="editor-ui/creating-custom-editor.html">Customizing editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="changing-layout.html">Theming</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuring-search-fields.html">Configuring search fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuring-faceted-search.html">Configuring faceted search</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-configuration.html">Advanced configuration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Adding static pages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#examples-of-api-usage">Examples of API usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#load-a-page-in-the-top-menu-bar">Load a page in the top menu bar</a></li>
<li class="toctree-l4"><a class="reference internal" href="#load-a-link-in-the-footer-bar">Load a link in the footer bar</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-a-page-from-a-section">Remove a page from a section</a></li>
<li class="toctree-l4"><a class="reference internal" href="#change-the-page-status">Change the page status</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="implementing-a-schema-plugin.html">Implementing schema plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="characterset.html">Characterset</a></li>
<li class="toctree-l2"><a class="reference internal" href="misc.html">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../annexes/index.html">Annexes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GeoNetwork opensource</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Customizing guide</a> &raquo;</li>
      <li>Adding static pages</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/geonetwork/doc/blob/develop/source/customizing-application/adding-static-pages.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="adding-static-pages">
<span id="id1"></span><h1>Adding static pages<a class="headerlink" href="#adding-static-pages" title="Permalink to this heading">¶</a></h1>
<p>This feature allows to store the HTML content for static pages and show the links to these pages in specific sections of the user interface:</p>
<ul>
<li><p>The HTML content is stored in a new table of the GN’s database.</p></li>
<li><p>The link to pages can be showed in different points of the GN’s GUI according to a list of “sections” associated to each page. In this PR is introduced the support to show the links for the top toolbar and the footer.</p></li>
<li><p>Each page can be in 3 states:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>HIDDEN</cite>: visible to administrator.</p></li>
<li><p><cite>PRIVATE</cite>: visible to logged users.</p></li>
<li><p><cite>PUBLIC</cite>: visible to everyone.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Pages can be added to different page sections. Currently the sections implemented are <cite>TOP</cite> (top menu of the main page) and <cite>FOOTER</cite> (footer of the main page).</p></li>
<li><p>Only the administrator can edit the pages and see the pages in <cite>HIDDEN</cite> status.</p></li>
<li><p>The creation and the management of the content is done via the API.</p>
<blockquote>
<div><figure class="align-default">
<img alt="../_images/pages-api.png" src="../_images/pages-api.png" />
</figure>
</div></blockquote>
</li>
</ul>
<p>Some restrictions:</p>
<ul class="simple">
<li><p>It is not possible to apply custom CSS to the page.</p></li>
<li><p>Any external image must be loaded externally.</p></li>
</ul>
<section id="examples-of-api-usage">
<h2>Examples of API usage<a class="headerlink" href="#examples-of-api-usage" title="Permalink to this heading">¶</a></h2>
<p>Before executing the following examples, see <a class="reference internal" href="misc.html#example-csrf-curl"><span class="std std-ref">Example of CSRF call using curl</span></a> for details on the usage of the CSRF token (instead of the value <code class="docutils literal notranslate"><span class="pre">&quot;X-XSRF-TOKEN:</span> <span class="pre">e934f557-17a3-47f2-8e6b-bdf1a3c90a97&quot;</span></code> used in the examples) and cookies in the requests.</p>
<section id="load-a-page-in-the-top-menu-bar">
<h3>Load a page in the top menu bar<a class="headerlink" href="#load-a-page-in-the-top-menu-bar" title="Permalink to this heading">¶</a></h3>
<p>In this example we’re going to upload a file <cite>contactus.html</cite> and link it in the top menu:</p>
<ol class="arabic">
<li><p>Load the content by using the method POST <code class="docutils literal notranslate"><span class="pre">/api/pages/</span></code>, the mandatory fields are:</p>
<blockquote>
<div><ul class="simple">
<li><p>language (3 letters like ‘eng’, ‘ita’, ‘fra’ …)</p></li>
<li><p>pageId (the identifier/link description of the page)</p></li>
<li><p>format (must be LINK if a link is associated to the page)</p></li>
<li><p>the content: data (a file with the page content) or a link (URL to another page). Define both is not possible.</p></li>
</ul>
</div></blockquote>
</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:8080/geonetwork/srv/api/pages/?language=eng&amp;pageId=contactus&amp;format=HTML&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;accept: */*&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: multipart/form-data&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;X-XSRF-TOKEN: e934f557-17a3-47f2-8e6b-bdf1a3c90a97&quot;</span><span class="w"> </span>-d<span class="w"> </span>contactus.html
</pre></div>
</div>
<p>At this point the page is created but not visible because is in status HIDDEN and is not loaded explicitly in any section of the page, except DRAFT that is not visible (in the future could be added to a page with an editor interface). Similar requests should be done for each UI language supported.</p>
<ol class="arabic simple" start="2">
<li><p>To associate the link to the top bar is necessary to use the method POST <code class="docutils literal notranslate"><span class="pre">/api/pages/{language}/{pageId}/{section}</span></code> with the <code class="docutils literal notranslate"><span class="pre">TOP</span></code> value for the section.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:8080/geonetwork/srv/api/pages/eng/contactus/TOP&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;accept: */*&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;X-XSRF-TOKEN: 7cfa1a0d-3335-4846-8061-a5bf176687b5&quot;</span><span class="w">  </span>--user<span class="w"> </span>admin:admin<span class="w"> </span>-b<span class="w"> </span>/tmp/cookie
</pre></div>
</div>
</section>
<section id="load-a-link-in-the-footer-bar">
<h3>Load a link in the footer bar<a class="headerlink" href="#load-a-link-in-the-footer-bar" title="Permalink to this heading">¶</a></h3>
<p>In this example we’re going to add a link to an external resource <a class="reference external" href="http://myorganisation/contactus.html">http://myorganisation/contactus.html</a> and link it in the footer:</p>
<ol class="arabic simple">
<li><p>Add the link by using the method POST <code class="docutils literal notranslate"><span class="pre">/api/pages/</span></code> with the <code class="docutils literal notranslate"><span class="pre">link</span></code> parameter in the request:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:8080/geonetwork/srv/api/pages/?language=eng&amp;pageId=contactus&amp;format=LINK&amp;link=http://myorganisation/contactus.html&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;accept: */*&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;X-XSRF-TOKEN: e934f557-17a3-47f2-8e6b-bdf1a3c90a97&quot;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>To associate the link to the footer is necessary to use the method POST <code class="docutils literal notranslate"><span class="pre">/api/pages/{language}/{pageId}/{section}</span></code> with the <code class="docutils literal notranslate"><span class="pre">FOOTER</span></code> value for the section.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:8080/geonetwork/srv/api/pages/eng/contactus/FOOTER&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;accept: */*&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;X-XSRF-TOKEN: 7cfa1a0d-3335-4846-8061-a5bf176687b5&quot;</span><span class="w">  </span>--user<span class="w"> </span>admin:admin<span class="w"> </span>-b<span class="w"> </span>/tmp/cookie
</pre></div>
</div>
</section>
<section id="remove-a-page-from-a-section">
<h3>Remove a page from a section<a class="headerlink" href="#remove-a-page-from-a-section" title="Permalink to this heading">¶</a></h3>
<p>To remove a page from a section DELETE <code class="docutils literal notranslate"><span class="pre">/api/pages/{language}/{pageId}/{section}</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>-X<span class="w"> </span>DELETE<span class="w"> </span><span class="s2">&quot;http://localhost:8080/geonetwork/srv/api/pages/eng/contactus?format=LINK&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;accept: */*&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;X-XSRF-TOKEN: 7cfa1a0d-3335-4846-8061-a5bf176687b5&quot;</span><span class="w">  </span>--user<span class="w"> </span>admin:admin<span class="w"> </span>-b<span class="w"> </span>/tmp/cookie
</pre></div>
</div>
</section>
<section id="change-the-page-status">
<h3>Change the page status<a class="headerlink" href="#change-the-page-status" title="Permalink to this heading">¶</a></h3>
<p>The status of the page can be changed with the method PUT <code class="docutils literal notranslate"><span class="pre">/api/pages/{language}/{pageId}/{status}</span></code> where status could assume these values:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>PUBLIC</cite> - Visible to every user</p></li>
<li><p><cite>PUBLIC_ONLY</cite> - Visible to not logged users</p></li>
<li><p><cite>PRIVATE</cite> - Visible to logged users</p></li>
<li><p><cite>HIDDEN</cite> - Hidden to anyone</p></li>
</ul>
</div></blockquote>
<p>Other methods in the API are to change/delete a page and to GET the list of the pages or the info of a specific one.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="advanced-configuration.html" class="btn btn-neutral float-left" title="Advanced configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="implementing-a-schema-plugin.html" class="btn btn-neutral float-right" title="Implementing schema plugins" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2001-2023, GeoNetwork opensource. Licensed under Creative Commons Attribution ShareAlike (Unported) v3.0 License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>